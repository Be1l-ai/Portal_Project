{% extends "base.html" %}
{% block title %}Home - Portal Project{% endblock %}

{% block nav %}
    <nav aria-label="Global" class="hidden md:block">
        <ul class="flex items-center gap-6 text-sm">
            <li>
                <a class="text-gray-600 transition hover:text-gray-900 font-medium" href="{{ url_for('feedback.index') }}"> Home </a>
            </li>

            <li>
                <a class="text-gray-600 transition hover:text-gray-900 font-medium" href="{{ url_for('auth.login') }}"> Log in </a>
            </li>

            <li>
                <a class="text-gray-600 transition hover:text-gray-900 font-medium" href="{{ url_for('auth.register') }}"> Register </a>
            </li>

            <li>
                <a class="text-gray-600 transition hover:text-gray-900 font-medium" href="{{ url_for('main.mainpage') }}"> Main page </a>
            </li>

            <li>
                <a class="text-gray-600 transition hover:text-gray-900 font-medium" href="{{ url_for('feedback.index') }}"> Placeholder </a>
            </li>

            <li>
                <a class="text-gray-600 transition hover:text-gray-900 font-medium" href="{{ url_for('feedback.index') }}"> Placeholder </a>
            </li>
        </ul>
    </nav>
{% endblock %}

{% block header %}
<div class="flex items-center gap-4">
    <div class="sm:flex sm:gap-4">
        <a
            class="block rounded-lg bg-gray-900 px-5 py-2.5 text-sm font-medium text-white transition hover:bg-gray-800 shadow-sm"
            href="{{ url_for('auth.login') }}"
        >
            Login
        </a>

        <a
            class="hidden rounded-lg bg-white border border-gray-300 px-5 py-2.5 text-sm font-medium text-gray-700 transition hover:bg-gray-50 shadow-sm sm:block"
            href="{{ url_for('auth.register') }}"
        >
            Register
        </a>
    </div>

    <button
        class="block rounded-lg bg-white border border-gray-300 p-2.5 text-gray-600 transition hover:bg-gray-50 shadow-sm md:hidden"
    >
        <span class="sr-only">Toggle menu</span>
        <svg
            xmlns="http://www.w3.org/2000/svg"
            class="size-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
        >
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
    </button>
</div>
{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-16">
        <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-gray-900 mb-6">
            Welcome to the Portal Project
        </h1>
        <p class="text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto">
            This is a website purely for educational purposes only.
        </p>
    </div>

    <div class="max-w-2xl mx-auto">
        <div class="bg-white rounded-2xl shadow-lg border border-gray-200 p-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-8 text-center">Send Feedback</h2>
            
            <form method="POST" class="space-y-6">
                <div>
                    <label class="block text-sm font-semibold text-gray-900 mb-3" for="select_company">
                        Choose a Receiver
                    </label>
                    <select 
                        class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all duration-200 shadow-sm" 
                        id="select_company" 
                        name="select_company" 
                        required
                    >
                        <option 
                            value="{% if not request.form.get('select_company') %}selected{% endif %}" 
                            disabled 
                            selected
                            class="text-gray-500"
                        >
                            Select a company
                        </option>
                        {% for company in user_list %}
                            <option 
                                value="{% if request.form.get('select_company') == company['id']|string %}selected{% endif %}" 
                                class="text-gray-900"
                            > 
                                {{ company["username"] }} 
                            </option>
                        {% endfor %}
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-semibold text-gray-900 mb-3" for="title">
                        Title
                    </label>
                    <input 
                        class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all duration-200 shadow-sm" 
                        type="text" 
                        id="title" 
                        name="title" 
                        value="{{ request.form['title'] }}" 
                        placeholder="Enter feedback title" 
                        required
                    >
                </div>

                <div>
                    <label class="block text-sm font-semibold text-gray-900 mb-3" for="feedback">
                        Feedback
                        <span class="text-red-500 ml-1">*</span>
                    </label>
                    <textarea 
                        class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all duration-200 shadow-sm resize-none" 
                        id="feedback" 
                        name="feedback" 
                        rows="8" 
                        placeholder="Share your detailed feedback here..." 
                        required
                    >{{ request.form['feedback'] }}</textarea>
                </div>
                
                <div class="pt-4">
                    <button 
                        class="w-full bg-gray-900 hover:bg-gray-800 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2" 
                        type="submit"
                    >
                        Send Feedback
                    </button>
                </div>
            </form>
        </div>
    </div>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="max-w-2xl mx-auto mt-6">
            {% for message in messages %}
                <div class="bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg shadow-sm">
                    <p class="text-sm font-medium">{{ message }}</p>
                </div>
            {% endfor %}
        </div>
    {% endif %}
    {% endwith %}
</div>
{% endblock %}